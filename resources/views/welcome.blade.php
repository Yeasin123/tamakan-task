@extends('frontend.user_layout')
@section('main_content')

<!-- catagory section start -->
<section class="catagory-section">
    <div class="container p-lg-0">
        <div class="section-heading">
        <h4 class="heading-title"><span class="heading-circle green"></span>Catagories</h4>
        </div>

        <div class="section-wrapper">
            <!-- Add Arrows -->
            <div class="slider-btn-group">
                <div class="slider-btn-prev catagory-slider-prev">
                    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    viewBox="0 0 443.52 443.52" style="enable-background:new 0 0 443.52 443.52;" xml:space="preserve"><g><path d="M143.492,221.863L336.226,29.129c6.663-6.664,6.663-17.468,0-24.132c-6.665-6.662-17.468-6.662-24.132,0l-204.8,204.8
            c-6.662,6.664-6.662,17.468,0,24.132l204.8,204.8c6.78,6.548,17.584,6.36,24.132-0.42c6.387-6.614,6.387-17.099,0-23.712
            L143.492,221.863z"/></g></svg>
                </div>
                <div class="slider-btn-next catagory-slider-next">
                    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.002 512.002" style="enable-background:new 0 0 512.002 512.002;" xml:space="preserve"><g><path d="M388.425,241.951L151.609,5.79c-7.759-7.733-20.321-7.72-28.067,0.04c-7.74,7.759-7.72,20.328,0.04,28.067l222.72,222.105
            L123.574,478.106c-7.759,7.74-7.779,20.301-0.04,28.061c3.883,3.89,8.97,5.835,14.057,5.835c5.074,0,10.141-1.932,14.017-5.795
            l236.817-236.155c3.737-3.718,5.834-8.778,5.834-14.05S392.156,245.676,388.425,241.951z"/></g></svg>
                </div>
            </div>
            <div class="catagory-container">
                <div class="swiper-wrapper">
                    @foreach ($categoryes as $cate)
                    <div class="swiper-slide">
                       
                        <a href="{{route('maincatproduct',$cate->name)}}" class="catagory-item">
                            <div class="catagory-icon">
                                <svg height="512pt" viewBox="0 0 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="m472.433594 135.757812h-160.320313c-8.855469 0-16.03125-7.179687-16.03125-16.03125v-96.195312c0-8.851562 7.175781-16.03125 16.03125-16.03125h160.324219c8.851562 0 16.03125 7.179688 16.03125 16.03125v96.195312c0 8.851563-7.179688 16.03125-16.035156 16.03125zm0 0" fill="#c8c5c9"/><path d="m215.917969 504.5h-192.386719c-8.851562 0-16.03125-7.179688-16.03125-16.03125v-448.902344c0-17.710937 14.355469-32.066406 32.066406-32.066406h160.320313c17.710937 0 32.066406 14.355469 32.066406 32.066406v448.902344c0 8.851562-7.179687 16.03125-16.035156 16.03125zm0 0" fill="#eceaec"/><path d="m135.757812 103.695312h-32.066406c-4.425781 0-8.015625-3.589843-8.015625-8.015624v-16.035157c0-4.425781 3.589844-8.015625 8.015625-8.015625h32.066406c4.425782 0 8.015626 3.589844 8.015626 8.015625v16.03125c0 4.429688-3.589844 8.019531-8.015626 8.019531zm0 0" fill="#dbeaff"/><path d="m32.09375 424.339844v-415.707032c-13.804688 3.578126-24.59375 16.007813-24.59375 30.933594v448.902344c0 8.851562 7.179688 16.03125 16.03125 16.03125h192.386719c8.855469 0 16.03125-7.179688 16.03125-16.03125v-8.015625h-143.742188c-30.941406 0-56.113281-25.175781-56.113281-56.113281zm0 0" fill="#dad8db"/><path d="m488.46875 504.5h-192.386719c-8.855469 0-16.03125-7.179688-16.03125-16.03125v-240.484375c0-8.855469 7.175781-16.03125 16.03125-16.03125h192.386719c8.851562 0 16.03125 7.175781 16.03125 16.03125v240.484375c0 8.851562-7.179688 16.03125-16.03125 16.03125zm0 0" fill="#eceaec"/><path d="m304.667969 432.355469v-200.402344h-8.585938c-8.855469 0-16.03125 7.175781-16.03125 16.03125v240.484375c0 8.851562 7.175781 16.03125 16.03125 16.03125h192.386719c8.851562 0 16.03125-7.179688 16.03125-16.03125v-8.015625h-151.734375c-26.519531 0-48.097656-21.578125-48.097656-48.097656zm0 0" fill="#dad8db"/><path d="m456.402344 400.289062c0 35.417969-28.710938 64.128907-64.128906 64.128907-35.417969 0-64.128907-28.710938-64.128907-64.128907 0-35.417968 28.710938-64.128906 64.128907-64.128906 35.417968 0 64.128906 28.710938 64.128906 64.128906zm0 0" fill="#dad8db"/><path d="m424.339844 400.289062c0 17.710938-14.355469 32.066407-32.066406 32.066407-17.707032 0-32.0625-14.355469-32.0625-32.066407 0-17.707031 14.355468-32.0625 32.0625-32.0625 17.710937 0 32.066406 14.355469 32.066406 32.0625zm0 0" fill="#fff"/><path d="m312.113281 264.015625h48.097657v32.066406h-48.097657zm0 0" fill="#c8c5c9"/><path d="m424.339844 280.046875c0 8.855469-7.179688 16.03125-16.035156 16.03125-8.851563 0-16.03125-7.175781-16.03125-16.03125 0-8.851563 7.179687-16.03125 16.03125-16.03125 8.855468 0 16.035156 7.179687 16.035156 16.03125zm0 0" fill="#fff"/><path d="m391.980469 412.019531c-4.792969-2.554687-8.820313-6.574219-11.386719-11.363281-5.796875-10.796875-5.292969-21.078125-1.46875-29.546875-15.578125 7.035156-24.59375 26.042969-14.910156 45.386719 2.542968 5.078125 6.765625 9.304687 11.847656 11.851562 19.34375 9.6875 38.359375.671875 45.394531-14.90625-8.453125 3.816406-18.703125 4.320313-29.476562-1.421875zm0 0" fill="#dbeaff"/><path d="m400.289062 103.695312h-64.128906c-4.425781 0-8.015625-3.589843-8.015625-8.015624v-48.097657c0-4.429687 3.589844-8.015625 8.015625-8.015625h64.128906c4.429688 0 8.015626 3.585938 8.015626 8.015625v48.097657c0 4.425781-3.585938 8.015624-8.015626 8.015624zm0 0" fill="#dbeaff"/><path d="m384.257812 79.644531c-17.707031 0-32.066406-14.355469-32.066406-32.066406v-8.015625h-16.03125c-4.425781 0-8.015625 3.589844-8.015625 8.015625v48.097656c0 4.429688 3.589844 8.015625 8.015625 8.015625h64.128906c4.429688 0 8.015626-3.585937 8.015626-8.015625v-16.03125zm0 0" fill="#c3ddff"/><path d="m336.160156 103.695312c-4.425781 0-8.015625-3.589843-8.015625-8.015624v-88.179688h-16.03125c-8.855469 0-16.03125 7.179688-16.03125 16.03125v96.195312c0 8.851563 7.175781 16.03125 16.03125 16.03125h160.324219c8.851562 0 16.03125-7.179687 16.03125-16.03125v-16.03125zm0 0" fill="#b6b1b7"/><path d="m488.46875 224.453125h-88.695312v-81.195313h72.664062c12.972656 0 23.53125-10.554687 23.53125-23.53125v-96.195312c0-12.972656-10.558594-23.53125-23.53125-23.53125h-160.324219c-12.976562 0-23.53125 10.558594-23.53125 23.53125v40.597656h-49.128906v-24.566406c0-21.8125-17.75-39.5625-39.566406-39.5625h-160.324219c-21.8125 0-39.5625 17.75-39.5625 39.5625v448.90625c0 12.972656 10.558594 23.53125 23.53125 23.53125h192.386719c12.976562 0 23.53125-10.558594 23.53125-23.53125v-112.742188h33.097656v112.742188c0 12.976562 10.558594 23.53125 23.53125 23.53125h192.390625c12.972656 0 23.53125-10.558594 23.53125-23.53125v-240.484375c0-12.976563-10.558594-23.53125-23.53125-23.53125zm8.53125 23.53125v40.597656h-66.769531c1.035156-2.648437 1.609375-5.523437 1.609375-8.53125 0-12.976562-10.558594-23.535156-23.53125-23.535156-12.976563 0-23.535156 10.558594-23.535156 23.535156 0 3.007813.574218 5.882813 1.609374 8.53125h-18.671874v-24.566406c0-4.140625-3.359376-7.5-7.5-7.5h-48.097657c-4.140625 0-7.5 3.359375-7.5 7.5v24.566406h-17.0625v-40.597656c0-4.707031 3.828125-8.53125 8.53125-8.53125h192.386719c4.703125 0 8.53125 3.824219 8.53125 8.53125zm-97.226562 32.0625c0-4.703125 3.828124-8.53125 8.53125-8.53125 4.707031 0 8.535156 3.828125 8.535156 8.53125 0 4.707031-3.828125 8.53125-8.535156 8.53125-4.703126 0-8.53125-3.824219-8.53125-8.53125zm-80.160157 8.535156v-17.066406h33.097657v17.066406zm152.824219-160.324219h-24.566406v-65.160156h33.097656v56.628906c0 4.703126-3.828125 8.53125-8.53125 8.53125zm8.53125-104.726562v24.566406h-33.097656v-33.097656h24.5625c4.707031 0 8.535156 3.828125 8.535156 8.53125zm-177.386719 0c0-4.703125 3.828125-8.53125 8.53125-8.53125h120.757813v113.257812h-120.757813c-4.707031 0-8.53125-3.828124-8.53125-8.53125zm-288.582031 312.113281h16.546875c.285156 0 .515625.230469.515625.515625v56.113282c0 .285156-.230469.515624-.515625.515624h-16.546875zm0-136.273437h16.546875c.285156 0 .515625.230468.515625.515625v56.113281c0 .285156-.230469.515625-.515625.515625h-16.546875zm209.453125 289.097656c0 4.703125-3.828125 8.53125-8.53125 8.53125h-192.390625c-4.703125 0-8.53125-3.828125-8.53125-8.53125v-80.679688h16.546875c8.558594 0 15.515625-6.957031 15.515625-15.515624v-56.113282c0-8.554687-6.957031-15.515625-15.515625-15.515625h-16.546875v-17.0625h168.855469c4.140625 0 7.5-3.359375 7.5-7.5s-3.359375-7.5-7.5-7.5h-168.855469v-17.0625h16.546875c8.558594 0 15.515625-6.960937 15.515625-15.515625v-56.113281c0-8.558594-6.957031-15.519531-15.515625-15.519531h-16.546875v-144.808594c0-13.542969 11.019531-24.5625 24.5625-24.5625h160.324219c13.546875 0 24.5625 11.019531 24.5625 24.5625v249.015625h-8.527344c-4.140625 0-7.5 3.359375-7.5 7.5 0 4.144531 3.359375 7.5 7.5 7.5h8.527344v184.890625zm15-127.742188v-281.597656h49.128906v40.597656c0 12.976563 10.554688 23.53125 23.53125 23.53125h72.660157v81.195313h-88.691407c-12.976562 0-23.53125 10.554687-23.53125 23.53125v112.742187zm249.015625 136.273438h-192.386719c-4.707031 0-8.53125-3.828125-8.53125-8.53125v-184.886719h209.449219v184.886719c0 4.703125-3.828125 8.53125-8.53125 8.53125zm0 0"/><path d="m135.757812 64.128906h-32.066406c-8.554687 0-15.515625 6.960938-15.515625 15.515625v16.03125c0 8.558594 6.960938 15.515625 15.515625 15.515625h32.066406c8.554688 0 15.515626-6.957031 15.515626-15.515625v-16.03125c0-8.554687-6.960938-15.515625-15.515626-15.515625zm.515626 31.546875c0 .285157-.230469.515625-.515626.515625h-32.066406c-.285156 0-.515625-.230468-.515625-.515625v-16.03125c0-.285156.230469-.515625.515625-.515625h32.066406c.285157 0 .515626.230469.515626.515625zm0 0"/><path d="m448.386719 271.515625h24.046875c4.144531 0 7.5-3.359375 7.5-7.5s-3.355469-7.5-7.5-7.5h-24.046875c-4.140625 0-7.5 3.359375-7.5 7.5s3.359375 7.5 7.5 7.5zm0 0"/><path d="m392.273438 328.660156c-39.496094 0-71.628907 32.132813-71.628907 71.628906 0 39.496094 32.132813 71.628907 71.628907 71.628907 39.496093 0 71.628906-32.132813 71.628906-71.628907 0-39.496093-32.132813-71.628906-71.628906-71.628906zm0 128.257813c-31.226563 0-56.628907-25.402344-56.628907-56.628907 0-31.226562 25.40625-56.628906 56.628907-56.628906 31.226562 0 56.628906 25.40625 56.628906 56.628906 0 31.226563-25.402344 56.628907-56.628906 56.628907zm0 0"/><path d="m421.453125 385c-4.011719 1.035156-6.425781 5.121094-5.390625 9.132812.515625 2 .777344 4.070313.777344 6.15625 0 13.546876-11.019532 24.566407-24.566406 24.566407-13.542969 0-24.5625-11.019531-24.5625-24.566407 0-13.542968 11.019531-24.5625 24.5625-24.5625 2.085937 0 4.15625.257813 6.148437.773438 4.011719 1.03125 8.101563-1.382812 9.132813-5.394531 1.035156-4.007813-1.378907-8.097657-5.390626-9.132813-3.214843-.828125-6.542968-1.246094-9.890624-1.246094-21.816407 0-39.5625 17.746094-39.5625 39.5625 0 21.816407 17.746093 39.566407 39.5625 39.566407 21.816406 0 39.566406-17.75 39.566406-39.566407 0-3.347656-.421875-6.679687-1.25-9.898437-1.035156-4.011719-5.128906-6.421875-9.136719-5.390625zm0 0"/><path d="m328.144531 111.191406h80.164063c4.140625 0 7.5-3.355468 7.5-7.5v-64.128906c0-4.140625-3.359375-7.5-7.5-7.5h-16.03125c-4.140625 0-7.5 3.359375-7.5 7.5 0 4.144531 3.359375 7.5 7.5 7.5h8.53125v49.128906h-65.164063v-49.128906h24.566407c4.140624 0 7.5-3.355469 7.5-7.5 0-4.140625-3.359376-7.5-7.5-7.5h-32.066407c-4.140625 0-7.5 3.359375-7.5 7.5v64.128906c0 4.144532 3.359375 7.5 7.5 7.5zm0 0"/></svg>
                            </div>
                            <p class="catagory-name">{{$cate->name}} </p>
                        </a>
                       
                    </div>
                    @endforeach
                </div>
            </div>
        </div>
    </div>
</section>
<!-- catagory section end -->

<section class="page-content section-ptb-90">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-heading">
                  <h4 class="heading-title"><span class="heading-circle green"></span> Products</h4>
                </div>
                <div class="row product-list">
                   @foreach ($products as $product)
                    <div class="col-sm-6 col-lg-4 col-xl-3 col-6" style="display: block;">
                        <div class="product-item">
                            <div class="product-thumb">
                                <a href="{{route('productdetail',$product->id)}}" ><img src="{{asset('images/product/'.$product->thumbnail)}}" alt="product"></a>
                    

                            </div>
                            <div class="product-content">
                                <h6><a href="{{route('productdetail',$product->id)}}" class="product-title">{{$product->title}}</a></h6>
                                <p class="quantity">Available Stock {{$product->product_quantity}}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                   <div class="price">{{$product->price - $product->discountPercentage}}$  <del> ${{$product->price}}</del></div>

                                     <div >
                                        <a class="cart-btn addToCart moblie_btn" data-id="{{$product->id}}" ><i class="fas fa-shopping-cart"></i> Cart</a>
                                        <a class="cart-btn addToCart web_btn" data-id="{{$product->id}}"  onclick="cartopen()"><i class="fas fa-shopping-cart"></i> Cart</a>
                                    </div>

                                   
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                    @endforeach
                   
                    <div class="col-12 text-center d-flex justify-content-center mt-4">
                        {{$products->links()}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    function productview(id){
        
        $.ajax({
            url: "{{ url('quickproductview/') }}/"+id,
            type:"GET",
            dataType: "json",
            success:function(data){
                $('#pname').text(data.product.product_name);
                $('#product_id').val(data.product.id);
                $('#product_code').text(data.product.product_code);
                
                if(data.product.brand.name !== null){
                    var h3 = '<h3 id="brand"> Brand: ' +data.product.brand.name+ '</h3>'
                    $('#brand').html(h3);
                }
                var p = '<p id="pqty"> Stock :' +data.product.product_quantity+ '</p>';
                $("#pqty").html(p); 
                if(data.product.discount_price == null){
                    var p = '<p id="price"> Regular Price :' +data.product.selling_price+ '৳ </p>';
                  $("#price").html(p);
                }
                else{
                    var p = '<p id="dprice"> Offer Price :' +data.product.discount_price+ '৳ </p>';
                  $("#dprice").html(p);

                  var del = '<del id="price"> ' +data.product.selling_price+ '৳ </del>';
                  $("#price").html(del);

                  
                }
    
                var img = '<img src="{{asset('images/product')}}/'+data.product.image_one+'">';
                $("#productImg").html(img); 

                var d = $('select[name="color"]').empty();
                $.each(data.color,function(key,value){
                    if(data.color !== null){
                        $('select[name="color"]').append('<option value="'+value+'">' +value+ '</option>');
                    }
                   
                });

                var ds = $('select[name="size"]').empty();
                $.each(data.size,function(key,value){
                    if(data.size !== null){
                        $('select[name="size"]').append('<option value="'+value+'">' +value+ '</option>');
                    }
                   
                });
            }
        });
    }
</script>


@endsection
